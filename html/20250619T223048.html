<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width">
        <title>Notty</title>
        <link rel="stylesheet" href="/css/forester.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&amp;display=swap" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC&amp;display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@700&amp;display=swap" rel="stylesheet">
</head>
<body>
    
    <div id="grid-wrapper">
        <article>
            <section lang="en" class="block"><details open=""><summary><header><h1><span class="taxon">Software. </span>Notty<a href="/20250619T223048.html" class="slug">[20250619T223048]</a></h1><div class="metadata"><ul><li class="meta-item">June 19, 2025</li><li class="meta-item"><span class="link"><a href="/pdf/20250619T223048.pdf">PDF</a></span></li></ul></div></header></summary><p>Notty (NOte Taking with TYpst) is a software for taking scientific notes in the spirit of <span class="link external"><a href="https://www.forester-notes.org/index/index.xml">Forester</a></span>, using <span class="link external"><a href="https://github.com/typst/typst">Typst</a></span> as the markup language.</p><section lang="en" class="block hide-metadata"><details open=""><summary><header><h2><span class="taxon"> 1. </span>Design thoughts of Notty<a href="/20250817T222638.html" class="slug">[20250817T222638]</a></h2><div class="metadata"><ul><li class="meta-item">August 17, 2025</li><li class="meta-item"><span class="link"><a href="/pdf/20250817T222638.pdf">PDF</a></span></li></ul></div></header></summary><p>There are already a bunch of great software exploring the possibilities of taking scientific notes. However, Notty tries to be different, and takes its own approach towards that goal. These differences reflect some thoughts behind the design of Notty.</p><section lang="en" class="block hide-metadata"><details open=""><summary><header><h3><span class="taxon"> 1.1. </span>Typst finds a sweet spot for taking scientific notes<a href="/20250819T220636.html" class="slug">[20250819T220636]</a></h3><div class="metadata"><ul><li class="meta-item">August 19, 2025</li><li class="meta-item"><span class="link"><a href="/pdf/20250819T220636.pdf">PDF</a></span></li></ul></div></header></summary><p>There are already plenty of note taking tools, and many of them have more or less support for taking notes of scientific thoughts. The bad news is that most of them, if not all, do not meet the criteria of taking scientific notes.</p><section lang="en" class="block hide-metadata"><details open=""><summary><header><h4><span class="taxon"> 1.1.1. </span>Taking scientific notes need modular reusable snippets for mathematics<a href="/20250819T220749.html" class="slug">[20250819T220749]</a></h4><div class="metadata"><ul><li class="meta-item">August 19, 2025</li><li class="meta-item"><span class="link"><a href="/pdf/20250819T220749.pdf">PDF</a></span></li></ul></div></header></summary><p>Scientific notes usually contains mathematical contents that are typeset in some language, most commonly LaTeX. As the note base grows, shared snippets would appear in clusters of notes. These snippets, if not made reusable as macros or functions in the typesetting language, will become unmaintainable just like how a program without usage of variables and functions are unmaintainable. In the meantime, making all the snippets accessible globally risks leakage of abstraction and namespace pollution. Hence, these typesetting snippets should act just like definitions in programming languages: reusable by referring to their name, and scoped under a module system.</p></details></section><section lang="en" class="block hide-metadata"><details open=""><summary><header><h4><span class="taxon"> 1.1.2. </span>Taking scientific notes needs full-power mathematical typesetting<a href="/20250819T220803.html" class="slug">[20250819T220803]</a></h4><div class="metadata"><ul><li class="meta-item">August 19, 2025</li><li class="meta-item"><span class="link"><a href="/pdf/20250819T220803.pdf">PDF</a></span></li></ul></div></header></summary><p>Most of the note-taking software, especially those based by web techniques, has limited support for LaTeX simulation through MathJax or KaTeX. However, these simulations never satisfy one who tries to has any fine-grained control over mathematical typesetting. Anyone who wish to typeset mathematics in their notes seriously would need the full-power of it. This is not necessarily achieved using LaTeX, but at least one needs to use something that declares itself to be a full-power solution.</p></details></section><section lang="en" class="block hide-metadata"><details open=""><summary><header><h4><span class="taxon"> 1.1.3. </span>Markdown is not suitable for scientific content producing<a href="/20250819T220812.html" class="slug">[20250819T220812]</a></h4><div class="metadata"><ul><li class="meta-item">August 19, 2025</li><li class="meta-item"><span class="link"><a href="/pdf/20250819T220812.pdf">PDF</a></span></li></ul></div></header></summary><p>Given that <span class="link local"><a href="/20250819T220749.html">Taking scientific notes need modular reusable snippets for mathematics</a></span> and <span class="link local"><a href="/20250819T220803.html">Taking scientific notes needs full-power mathematical typesetting</a></span>, it is obvious that Markdown, without extensions, does not satisfy any of the two principles, and any of the software-specific extensions that tries to solve these problems does not really solve them, just causing migration friction. This is because mathematics is alien to Markdown — it is just not part of it, thus there cannot be effective integration.</p></details></section><section lang="en" class="block hide-metadata"><details open=""><summary><header><h4><span class="taxon"> 1.1.4. </span>Pure LaTeX is not suitable for scientific content producing<a href="/20250819T220820.html" class="slug">[20250819T220820]</a></h4><div class="metadata"><ul><li class="meta-item">August 19, 2025</li><li class="meta-item"><span class="link"><a href="/pdf/20250819T220820.pdf">PDF</a></span></li></ul></div></header></summary><p>Many might argue against this, but I think that pure LaTeX, that is, just LaTeX itself, is not suitable for scientific content producing. What I agree is that LaTeX is suitable for serious scientific content <em>publishing</em>. In that scenario, fine-grained control over typesetting is important, and following the popular standard and utilizing the ecosystem is also important. LaTeX is probably the best one for that purpose. However, I think there are more stuff besides publishing in scientific content producing — one needs to effectively take notes of scientific contents, create new scientific contents not only for publishing (for example, private note, temporary thought, manuscript, etc.), and manage these contents. And the following disadvantages prevent LaTeX to be suitable for these purpose: its compilation is too slow, thus one cannot preview their input and reflect upon it immediately; its language is far from modern, thus it is hard for one to be able to grasp it so that they can build their own utilities on it; also, it is too heavy to be integrated into other tools.</p></details></section><p>Typst, as a typesetting software with a domain-specific script language, or as a script language with typeset content as one of its basic value type and output target, has the ability to create modular, reusable snippets with enough control over typesetting. Its markup language and script language, by both producing content as values in the language, are congruent at a higher level. And its instant-preview is really impressive.</p></details></section><section lang="en" class="block hide-metadata"><details open=""><summary><header><h3><span class="taxon"> 1.2. </span>Alternative choices for scientific notes<a href="/20250819T220701.html" class="slug">[20250819T220701]</a></h3><div class="metadata"><ul><li class="meta-item">August 19, 2025</li><li class="meta-item"><span class="link"><a href="/pdf/20250819T220701.pdf">PDF</a></span></li></ul></div></header></summary><p>There are other tools designed for taking notes about scientific thoughts, just like how <span class="link local"><a href="/20250819T220636.html">Typst finds a sweet spot for taking scientific notes</a></span>. The most amazing one is <span class="link external"><a href="https://www.forester-notes.org/index/index.xml">Forester</a></span>. Anyone who is interested in that topic should look into it.</p></details></section></details></section><section lang="en" class="block hide-metadata"><details open=""><summary><header><h2><span class="taxon"> 2. </span>How to set up Notty<a href="/20250819T221255.html" class="slug">[20250819T221255]</a></h2><div class="metadata"><ul><li class="meta-item">August 19, 2025</li><li class="meta-item"><span class="link"><a href="/pdf/20250819T221255.pdf">PDF</a></span></li></ul></div></header></summary><p>As for now, Notty is essentially the combination of a set of Typst templates and a build script written in Python. So, there is no real installation — one just clones the <span class="link external"><a href="https://github.com/hanwenguo/notty">repository of Notty</a></span> as a starter template, edit the site configuration and maybe the template, and write their own notes.</p><pre>git clone https://github.com/hanwenguo/notty.git<br>chmod +x build.py<br>./build.py --help</pre><p>The build script is intended to be executed directly with execution permission like above instead of by <code>python build.py</code>. You must have <span class="link external"><a href="https://github.com/typst/typst">Typst</a></span>, <span class="link external"><a href="https://docs.astral.sh/uv/">uv</a></span> and <span class="link external"><a href="https://github.com/BurntSushi/ripgrep">ripgrep</a></span> installed on your machine to run the build script like that.</p><p>After cloning, you would see the following structure.</p><pre>notty/<br>├── _template/     # Typst templates of Notty<br>│   ├── site.typ   # Site configuration<br>│   └── ...        # Other templates<br>├── public/        # Resource files to be copied to output directory<br>│   └── ...<br>├── html/          # Default output directory for HTML files<br>│   ├── ...<br>│   └── pdf/       # Default output directory for PDF files<br>│       └── ...<br>├── typ/           # Note files in Typst<br>│   └── ...<br>└── build.py       # The build script</pre><p>All of the above directories is the default configuration, which can be overridden by editing the corresponding constants at the beginning of <code>build.py</code>. Particularly, the output directories for HTML and PDF files are independent. Thus, for example, you can put them both into a <code>dist</code> directory at the same level. That they are nested by default is just because of my personal preference.</p><p>You should also look at <code>site.typ</code> to check possible configuration options.</p></details></section><section lang="en" class="block hide-metadata"><details open=""><summary><header><h2><span class="taxon"> 3. </span>Writing in Notty<a href="/20250819T221329.html" class="slug">[20250819T221329]</a></h2><div class="metadata"><ul><li class="meta-item">August 19, 2025</li><li class="meta-item"><span class="link"><a href="/pdf/20250819T221329.pdf">PDF</a></span></li></ul></div></header></summary><p>Every note should start with the following template:</p><pre>#import "/_template/template.typ": template, tr, ln<br>#show: template(<br>  title:      [Title],<br>  date:       datetime(year: 2025, month: 08, day: 19, hour: 22, minute: 13, second: 29),<br>  tags:       (),<br>  identifier: "20250819T221329",<br>)<br><br># the content</pre><p>Technically, the <code>tags</code> field is optional, and the <code>identifier</code> field can be arbitrary instead of a date string. To link to other notes, use <code>#ln("notty:id")[text]</code>. To transclude other notes, use <code>#tr("notty:id", hide-metadata: true, open: true)</code>; the last two parameters are optional and values here are default values. <code>hide-metadata</code> means does not display metadata like date and author under the title, and <code>open</code> means show the content for the transcluded note when outputting to HTML. Currently, it is recommended to create hierarchy of notes only through transclusion.</p><section lang="en" class="block hide-metadata"><details><summary><header><h3><span class="taxon"> 3.1. </span>Use Emacs denote package to write in Notty<a href="/20250819T221344.html" class="slug">[20250819T221344]</a></h3><div class="metadata"><ul><li class="meta-item">August 19, 2025</li><li class="meta-item"><span class="link"><a href="/pdf/20250819T221344.pdf">PDF</a></span></li></ul></div></header></summary><p>If you use Emacs, Notty is accompanied by an Emacs Lisp package providing the integration of Notty and the <span class="link external"><a href="https://protesilaos.com/emacs/denote">Denote</a></span> package. The following is an example of configuration.</p><pre>(use-package denote<br>  :bind (("C-c n n" . denote))<br>  :config<br>  (setq denote-directory (expand-file-name "~/Documents/notes/typ/")))<br><br>(use-package typst-ts-mode)<br><br>(use-package denote-notty<br>  :load-path "/path/to/notty/directory/"<br>  :after (denote typst-ts-mode)<br>  :demand t<br>  :bind (:map typst-ts-mode-map<br>         ("C-c n b" . denote-notty-backlinks)<br>         ("C-c n c" . denote-notty-contexts)<br>         ("C-c n t" . denote-notty-transclude)<br>         ("C-c n l" . denote-link)<br>         ("C-c n L" . denote-add-links)<br>         ("C-c n q c" . denote-query-contents-link) ; create link that triggers a grep<br>         ("C-c n q f" . denote-query-filenames-link) ; create link that triggers a dired<br>         ;; Note that `denote-rename-file' can work from any context, not just<br>         ;; Dired bufffers.  That is why we bind it here to the `global-map'.<br>         ("C-c n r" . denote-rename-file)<br>         ("C-c n R" . denote-rename-file-using-front-matter))<br>  :config<br>  (push denote-notty-file-type denote-file-types)<br>  (defun +denote-sluggify-signature (str)<br>    "Make STR an appropriate slug but allowing uppercase letters."<br>    (denote-slug-put-equals<br>     (replace-regexp-in-string "[][{}!@#$%^&amp;*()+'\"?,.\|;:~`‘’“”/-]*" "" str)))<br>  (setq denote-file-name-slug-functions<br>        '((title . denote-sluggify-title)<br>          (signature . +denote-sluggify-signature)<br>          (keyword . denote-sluggify-keyword))))</pre></details></section></details></section></details></section>
        </article>
    </div>
</body>
</html>
